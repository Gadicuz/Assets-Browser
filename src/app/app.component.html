<div class="app-container" fxLayout="column" fxLayoutAlign="start">
  <mat-toolbar fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="16px" color="primary" class="mat-elevation-z0 header">
    <ng-container *ngIf="charData; else noCharData">
      <button fxFlex="0 0 auto" mat-button [routerLink]="['/browse']">Assets</button>
      <button fxFlex="0 0 auto" mat-button [routerLink]="['/orders']">Orders</button>
      <button fxFlex="0 0 auto" mat-button [routerLink]="['/demands']">Demands</button>
      <div fxFlex="1 1 auto"></div>
      <div fxFlex="0 0 auto"><span>{{charData.CharacterName}}</span></div>
      <img fxFlex="0 0 auto" class="avatar" src="https://image.eveonline.com/Character/{{charData.CharacterID}}_64.jpg">
    </ng-container>
    <ng-template #noCharData>
      <div fxFlex="1 1 auto"></div>
    </ng-template>
    <div *ngIf="isLoggedIn(); then loggedIn; else loggedOut"></div>
    <ng-template #loggedIn>
      <button fxFlex="0 0 auto" mat-icon-button (click)="logoff()" [routerLink]="['/']">
        <mat-icon>exit_to_app</mat-icon>
      </button>
    </ng-template>
    <ng-template #loggedOut>
      <button fxFlex="0 0 auto" mat-button (click)="login()">
        <img src="https://web.ccpgamescdn.com/eveonlineassets/developers/eve-sso-login-white-small.png" />
      </button>
    </ng-template>
  </mat-toolbar>

  <div *ngIf="charData" fxLayout="row" fxLayoutAlign="center">
    <div fxFlex="80%">
        <router-outlet></router-outlet>
    </div>
  </div>

  <div class="filler" fxFlex fxFlexFill></div>

  <div fxFlex class="footer">
    <p class="mat-small">{{copyright}}</p>
  </div>
</div>
